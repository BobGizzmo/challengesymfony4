{% extends 'defaultAdmin.html.twig' %}

{% block title %}IMART Immo - Aministration{% endblock %}

{% form_theme form 'bootstrap_4_layout.html.twig' %}

{% block body %}
<style>
</style>

<section class="container mt-5 mb-5">
    <h1 class="text-center">Gestion des utilisateurs</h1>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Email</th>
                <th>Username</th>
                <th>Role</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
                {% if not app.user.email is same as(user.email) %}
                    <tr>
                        <td>{{ user.email }}</td>
                        <td>{{ user.username }}</td>
                        <td>{{ user.roles[0] }}</td>
                        <td><a href="{{ path('user_edit', {'id': user.id})}}"><i class="fa fa-edit m-0 p-0" style="font-size: 1.5em;"></i></a></td>
                        <td><a href="{{ path('user_delete', {'id': user.id})}}"><i class="fa fa-trash m-0 p-0" style="font-size:1.5em;"></i></a></td>
                    </tr>
                {% endif %}
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <th>Email</th>
                <th>Username</th>
                <th>Role</th>
                <th></th>
                <th></th>
            </tr>
        </tfoot>
    </table>
</section>
<section class="container">
    <h1 class="text-center">Ajouter un Utilisateur</h1>
    {{ form_start(form) }}
        {{ form_row(form.email, {
            'label': 'Adresse email'
        })}}
        {{ form_row(form.username, {
            'label': 'Nom d\'utilisateur'
        })}}
        {{ form_row(form.password, {
            'label': 'Mot de passe'
        })}}
        {{ form_row(form.roles, {
            'label': 'Role de l\'utilisateur'
        })}}
        <button class="btn btn-primary">Ajouter</button>
    {{ form_end(form) }}
</section>
{% endblock %}
